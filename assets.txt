"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolate=E,Object.defineProperty(exports,"createAnticipateEasing",{enumerable:!0,get:function(){return n.createAnticipateEasing}}),Object.defineProperty(exports,"createBackIn",{enumerable:!0,get:function(){return n.createBackIn}}),Object.defineProperty(exports,"createExpoIn",{enumerable:!0,get:function(){return n.createExpoIn}}),Object.defineProperty(exports,"cubicBezier",{enumerable:!0,get:function(){return n.cubicBezier}}),Object.defineProperty(exports,"linear",{enumerable:!0,get:function(){return n.linear}}),Object.defineProperty(exports,"easeIn",{enumerable:!0,get:function(){return n.easeIn}}),Object.defineProperty(exports,"easeOut",{enumerable:!0,get:function(){return n.easeOut}}),Object.defineProperty(exports,"easeInOut",{enumerable:!0,get:function(){return n.easeInOut}}),Object.defineProperty(exports,"circIn",{enumerable:!0,get:function(){return n.circIn}}),Object.defineProperty(exports,"circOut",{enumerable:!0,get:function(){return n.circOut}}),Object.defineProperty(exports,"circInOut",{enumerable:!0,get:function(){return n.circInOut}}),Object.defineProperty(exports,"backIn",{enumerable:!0,get:function(){return n.backIn}}),Object.defineProperty(exports,"backOut",{enumerable:!0,get:function(){return n.backOut}}),Object.defineProperty(exports,"backInOut",{enumerable:!0,get:function(){return n.backInOut}}),Object.defineProperty(exports,"anticipate",{enumerable:!0,get:function(){return n.anticipate}}),Object.defineProperty(exports,"reversed",{enumerable:!0,get:function(){return n.reversed}}),Object.defineProperty(exports,"mirrored",{enumerable:!0,get:function(){return n.mirrored}}),exports.wrap=exports.velocityPerSecond=exports.velocityPerFrame=exports.toDecimal=exports.steps=exports.springForceLinear=exports.springForceExpo=exports.springForce=exports.snap=exports.smoothFrame=exports.smooth=exports.radiansToDegrees=exports.progress=exports.pointFromVector=exports.pipe=exports.mixComplex=exports.mixColor=exports.mixArray=exports.mix=exports.isPoint3D=exports.isPoint=exports.distance=exports.degreesToRadians=exports.conditional=exports.clamp=exports.applyOffset=exports.angle=void 0;var r=require("style-value-types"),e=require("hey-listen"),t=require("framesync"),n=require("@popmotion/easing"),o={x:0,y:0,z:0},a=function(r){return"number"==typeof r},i=function(r){return 180*r/Math.PI};exports.radiansToDegrees=i;var u=function(r,e){return void 0===e&&(e=o),i(Math.atan2(e.y-r.y,e.x-r.x))};exports.angle=u;var s=function(r,e){var t=!0;return void 0===e&&(e=r,t=!1),function(n){return t?n-r+e:(r=n,t=!0,e)}};exports.applyOffset=s;var c=function(r){return function(e,t,n){return void 0!==n?r(e,t,n):function(n){return r(e,t,n)}}},p=function(r,e,t){return Math.min(Math.max(t,r),e)},f=c(p);exports.clamp=f;var x=function(r,e){return function(t){return r(t)?e(t):t}};exports.conditional=x;var v=function(r){return r*Math.PI/180};exports.degreesToRadians=v;var l=function(r){return r.hasOwnProperty("x")&&r.hasOwnProperty("y")};exports.isPoint=l;var m=function(r){return l(r)&&r.hasOwnProperty("z")};exports.isPoint3D=m;var h=function(r,e){return Math.abs(r-e)},d=function(r,e){if(void 0===e&&(e=o),a(r)&&a(e))return h(r,e);if(l(r)&&l(e)){var t=h(r.x,e.x),n=h(r.y,e.y),i=m(r)&&m(e)?h(r.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(n,2)+Math.pow(i,2))}return 0};exports.distance=d;var b=function(r,e,t){var n=e-r;return 0===n?1:(t-r)/n};exports.progress=b;var g=function(r,e,t){return-t*r+t*e+r};exports.mix=g;var y=function(){return(y=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},O=function(r,e,t){var n=r*r,o=e*e;return Math.sqrt(t*(o-n)+n)},P=[r.hex,r.rgba,r.hsla],M=function(r){return P.find(function(e){return e.test(r)})},j=function(t,n){var o=M(t),a=M(n);(0,e.invariant)(o.transform===a.transform,"Both colors must be Hex and/or RGBA, or both must be HSLA");var i=o.parse(t),u=a.parse(n),s=y({},i),c=o===r.hsla?g:O;return function(r){for(var e in s)"alpha"!==e&&(s[e]=c(i[e],u[e],r));return s.alpha=g(i.alpha,u.alpha,r),o.transform(s)}};exports.mixColor=j;var I=function(r,e){return function(t){return e(r(t))}},F=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.reduce(I)};exports.pipe=F;var w=function(e,t){var n=e.slice(),o=n.length,i=e.map(function(e,n){var o=t[n];return a(e)?function(r){return g(e,o,r)}:r.color.test(e)?j(e,o):A(e,o)});return function(r){for(var e=0;e<o;e++)n[e]=i[e](r);return n}};exports.mixArray=w;var A=function(t,n){var o=r.complex.createTransformer(t);return(0,e.invariant)(o(t)===r.complex.createTransformer(n)(t),"Values '"+t+"' and '"+n+"' are of different format, or a value might have changed value type."),F(w(r.complex.parse(t),r.complex.parse(n)),o)};exports.mixComplex=A;var k=function(r,e){return function(t){return g(r,e,t)}};function q(e){return"number"==typeof e?k:r.color.test(e)?j:A}function B(r,e,t){for(var n=[],o=t||q(r[0]),a=r.length-1,i=0;i<a;i++){var u=o(r[i],r[i+1]);if(e){var s=Array.isArray(e)?e[i]:e;u=F(s,u)}n.push(u)}return n}function D(r,e){var t=r[0],n=r[1],o=e[0];return function(r){return o(b(t,n,r))}}function z(r,e){var t=r.length,n=t-1;return function(o){var a=0,i=!1;if(o<=r[0]?i=!0:o>=r[n]&&(a=n-1,i=!0),!i){for(var u=1;u<t&&!(r[u]>o||u===n);u++);a=u-1}var s=b(r[a],r[a+1],o);return e[a](s)}}function E(r,t,n){var o=void 0===n?{}:n,a=o.clamp,i=void 0===a||a,u=o.ease,s=o.mixer,c=r.length;(0,e.invariant)(c===t.length,"Both input and output ranges must be the same length"),(0,e.invariant)(!u||!Array.isArray(u)||u.length===c-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),r[0]>r[c-1]&&(r=[].concat(r),t=[].concat(t),r.reverse(),t.reverse());var p=B(t,u,s),x=2===c?D(r,p):z(r,p);return i?F(f(r[0],r[c-1]),x):x}var T=function(r,e,t){return e=v(e),{x:t*Math.cos(e)+r.x,y:t*Math.sin(e)+r.y}};exports.pointFromVector=T;var C=function(r,e){return void 0===e&&(e=2),e=Math.pow(10,e),Math.round(r*e)/e};exports.toDecimal=C;var L=function(r,e,t,n){return void 0===n&&(n=0),C(r+t*(e-r)/Math.max(n,t))};exports.smoothFrame=L;var R=function(r){void 0===r&&(r=50);var e=0,n=0;return function(o){var a=(0,t.getFrameData)().timestamp,i=a!==n?a-n:0,u=i?L(e,o,i,r):e;return n=a,e=u,u}};exports.smooth=R;var S=function(r){if("number"==typeof r)return function(e){return Math.round(e/r)*r};var e=0,t=r.length;return function(n){var o=Math.abs(r[0]-n);for(e=1;e<t;e++){var a=r[e],i=Math.abs(a-n);if(0===i)return a;if(i>o)return r[e-1];if(e===t-1)return a;o=i}}};exports.snap=S;var V=function(r){return r},H=function(r){return void 0===r&&(r=V),c(function(e,t,n){var o=t-n,a=-(0-e+1)*(0-r(Math.abs(o)));return o<=0?t+a:t-a})};exports.springForce=H;var _=H();exports.springForceLinear=_;var G=H(Math.sqrt);exports.springForceExpo=G;var J=function(r,e){return a(r)?r/(1e3/e):0};exports.velocityPerFrame=J;var K=function(r,e){return e?r*(1e3/e):0};exports.velocityPerSecond=K;var N=function(r,e,t){var n=e-r;return((t-r)%n+n)%n+r},Q=c(N);exports.wrap=Q;var U=f(0,1),W=function(r,e){return void 0===e&&(e="end"),function(t){var n=(t="end"===e?Math.min(t,.999):Math.max(t,.001))*r,o="end"===e?Math.floor(n):Math.ceil(n);return U(o/r)}};exports.steps=W;
},{"style-value-types":"Hokg","hey-listen":"KFGT","framesync":"bSZI","@popmotion/easing":"xQjT"}],"KOul":[function(require,module,exports) {
"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}).apply(this,arguments)},t=this&&this.__spreadArrays||function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;var n=Array(r),i=0;for(t=0;t<e;t++)for(var o=arguments[t],p=0,u=o.length;p<u;p++,i++)n[i]=o[p];return n};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@popmotion/popcorn"),n=function(){function n(r){void 0===r&&(r={}),this.props=r}return n.prototype.applyMiddleware=function(e){return this.create(r(r({},this.props),{middleware:this.props.middleware?t([e],this.props.middleware):[e]}))},n.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=1===r.length?r[0]:e.pipe.apply(void 0,r);return this.applyMiddleware(function(r){return function(t){return r(n(t))}})},n.prototype.while=function(r){return this.applyMiddleware(function(t,e){return function(n){return r(n)?t(n):e()}})},n.prototype.filter=function(r){return this.applyMiddleware(function(t){return function(e){return r(e)&&t(e)}})},n}();exports.default=n;
},{"@popmotion/popcorn":"cue+"}],"btfs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(e,t){var r=this,o=e.middleware,i=e.onComplete;this.isActive=!0,this.update=function(e){r.observer.update&&r.updateObserver(e)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(e){r.observer.error&&r.isActive&&r.observer.error(e),r.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=i,t.update&&o&&o.length&&o.forEach(function(e){return r.updateObserver=e(r.updateObserver,r.complete)})}}();exports.Observer=e,exports.default=function(t,r,o){var i=r.middleware;return new e({middleware:i,onComplete:o},"function"==typeof t?{update:t}:t)};
},{}],"bkas":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},e=this&&this.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(e[n[o]]=t[n[o]])}return e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=n(require("../chainable")),i=n(require("../observer")),u=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return t(o,n),o.prototype.create=function(t){return new o(t)},o.prototype.start=function(t){void 0===t&&(t={});var n=!1,o={stop:function(){}},u=this.props,s=u.init,p=e(u,["init"]),c=s(i.default(t,p,function(){n=!0,o.stop()}));return o=c?r(r({},o),c):o,t.registerParent&&t.registerParent(o),n&&o.stop(),o},o}(o.default);exports.Action=u,exports.default=function(t){return new u({init:t})};
},{"../chainable":"KOul","../observer":"btfs"}],"tiEx":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("framesync")),r=t(require("../action")),u=function(t){var u=t.getCount,n=t.getFirst,o=t.getOutput,a=t.mapApi,i=t.setProp,c=t.startActions;return function(t){return r.default(function(r){var f=r.update,s=r.complete,p=r.error,d=u(t),l=o(),v=function(){return f(l)},_=0,m=c(t,function(t,r){var u=!1;return t.start({complete:function(){u||(u=!0,++_===d&&e.default.update(s))},error:p,update:function(t){i(l,r,t),e.default.update(v,!1,!0)}})});return Object.keys(n(m)).reduce(function(t,e){return t[e]=a(m,e),t},{})})}};exports.default=u;
},{"framesync":"bSZI","../action":"bkas"}],"Or16":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./multi")),r=e.default({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(t).reduce(function(n,u){var i;return t[u][e]&&(r[0]&&void 0!==r[0][u]?n[u]=t[u][e](r[0][u]):n[u]=(i=t[u])[e].apply(i,r)),n},{})}},setProp:function(t,e,r){return t[e]=r},startActions:function(t,e){return Object.keys(t).reduce(function(r,n){return r[n]=e(t[n],n),r},{})}});exports.default=r;
},{"./multi":"tiEx"}],"O9o7":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("./multi")),n=r.default({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,r){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.map(function(t,e){if(t[r])return Array.isArray(n[0])?t[r](n[0][e]):t[r].apply(t,n)})}},setProp:function(t,r,n){return t[r]=n},startActions:function(t,r){return t.map(function(t,n){return r(t,n)})}});exports.default=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(t)};
},{"./multi":"tiEx"}],"opif":[function(require,module,exports) {
"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},e=this&&this.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]])}return t},t=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("style-value-types"),o=t(require("../compositors/composite")),u=t(require("../compositors/parallel")),i=require("@popmotion/popcorn"),c=require("hey-listen"),f=function(r){var e=Object.keys(r),t=function(e,t){return void 0!==e&&!r[t](e)};return{getVectorKeys:function(r){return e.reduce(function(e,n){return t(r[n],n)&&e.push(n),e},[])},testVectorProps:function(r){return r&&e.some(function(e){return t(r[e],e)})}}},a=[n.px,n.percent,n.degrees,n.vh,n.vw],s=function(r){return a.find(function(e){return e.test(r)})},p=function(r){return Boolean(s(r))},l=function(r,e){return r(e)},m=function(r){return function(e,t){return e[t]=e[t][r],e}},y=function(e,t,n){var o=n[0],i=t[o].map(function(o,u){var i=n.reduce(m(u),r({},t));return x(o)(e,i)});return u.default.apply(void 0,i)},v=function(r){return function(e,t){return e[t]=e[t][r],e}},d=function(e,t,n){var u=n[0],i=Object.keys(t[u]).reduce(function(o,i){var c=n.reduce(v(i),r({},t));return o[i]=x(t[u][i])(e,c),o},{});return o.default(i)},h=function(t,n){var o=n.from,u=n.to,i=e(n,["from","to"]),c=s(o)||s(u),f=c.transform,a=c.parse;return t(r(r({},i),{from:"string"==typeof o?a(o):o,to:"string"==typeof u?a(u):u})).pipe(f)},O=function(t,o){var u=o.from,c=o.to,f=e(o,["from","to"]);return t(r(r({},f),{from:0,to:1})).pipe(i.mixColor(u,c),n.color.transform)},b=function(t,o){var u=o.from,f=o.to,a=e(o,["from","to"]),s=n.complex.createTransformer(u);return c.invariant(s(u)===n.complex.createTransformer(f)(u),"Values '"+u+"' and '"+f+"' are of different format, or a value might have changed value type."),t(r(r({},a),{from:0,to:1})).pipe(i.mixArray(n.complex.parse(u),n.complex.parse(f)),s)},g=function(r,e){var t=f(e),n=t.testVectorProps,o=t.getVectorKeys;return function(e){if(!n(e))return r(e);var t=o(e),u=e[t[0]];return x(u)(r,e,t)}},x=function(r){var e=l;return"number"==typeof r?e=l:Array.isArray(r)?e=y:p(r)?e=h:n.color.test(r)?e=O:n.complex.test(r)?e=b:"object"==typeof r&&(e=d),e};exports.default=g;
},{"style-value-types":"Hokg","../compositors/composite":"Or16","../compositors/parallel":"O9o7","@popmotion/popcorn":"cue+","hey-listen":"KFGT"}],"WRxs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@popmotion/popcorn");exports.angle=e.angle,exports.degreesToRadians=e.degreesToRadians,exports.distance=e.distance,exports.isPoint3D=e.isPoint3D,exports.isPoint=e.isPoint,exports.dilate=e.mix,exports.getValueFromProgress=e.mix,exports.pointFromAngleAndDistance=e.pointFromVector,exports.getProgressFromValue=e.progress,exports.radiansToDegrees=e.radiansToDegrees,exports.smooth=e.smoothFrame,exports.speedPerFrame=e.velocityPerFrame,exports.speedPerSecond=e.velocityPerSecond,exports.stepProgress=function(e,o){var r=1/(e-1),s=1/(2*(e-1)),t=Math.min(o,1)/s;return Math.floor((t+1)/2)*r};
},{"@popmotion/popcorn":"cue+"}],"e6Gg":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=t(require("framesync")),s=require("style-value-types"),i=r(require("../../action")),n=r(require("../../action/vector")),u=require("../../calc"),o=function(e){return void 0===e&&(e={}),i.default(function(t){var r=t.update,s=t.complete,i=e.velocity,n=void 0===i?0:i,o=e.from,d=void 0===o?0:o,c=e.to,l=void 0===c?0:c,f=e.stiffness,v=void 0===f?100:f,p=e.damping,m=void 0===p?10:p,h=e.mass,M=void 0===h?1:h,b=e.restSpeed,_=void 0===b?.01:b,q=e.restDelta,y=void 0===q?.01:q,S=n?-n/1e3:0,x=0,O=l-d,P=d,g=P,j=a.default.update(function(e){var t=e.delta;x+=t;var i=m/(2*Math.sqrt(v*M)),o=Math.sqrt(v/M)/1e3;if(g=P,i<1){var d=Math.exp(-i*o*x),c=o*Math.sqrt(1-i*i);P=l-d*((S+i*o*O)/c*Math.sin(c*x)+O*Math.cos(c*x))}else{d=Math.exp(-o*x);P=l-d*(O+(S+o*O)*x)}n=u.speedPerSecond(P-g,t);var f=Math.abs(n)<=_,p=Math.abs(l-P)<=y;f&&p?(r(P=l),a.cancelSync.update(j),s()):r(P)},!0);return{stop:function(){return a.cancelSync.update(j)}}})},d=n.default(o,{from:s.number.test,to:s.number.test,stiffness:s.number.test,damping:s.number.test,mass:s.number.test,velocity:s.number.test});exports.default=d;
},{"framesync":"bSZI","style-value-types":"Hokg","../../action":"bkas","../../action/vector":"opif","../../calc":"WRxs","process":"pBGv"}],"Zu7q":[function(require,module,exports) {
"use strict";function t(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function s(t,s){for(var r=0;r<s.length;r++){var e=s[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,r,e){return r&&s(t.prototype,r),e&&s(t,e),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Grab=void 0;var e=function(){function s(r){r.indexSize,r.onIndexChange;var e=r.onGrabStart,o=r.onGrabMove,n=r.onGrabEnd;t(this,s),this.onGrabEnd=n,this.onGrabStart=e,this.onGrabMove=o,this.scroll={start:0,current:0,initial:0},this.listen("mousedown",this.onMouseDown.bind(this)),this.listen("mousemove",this.onMouseMove.bind(this)),this.listen("mouseup",this.onMouseUp.bind(this)),this.listen("touchstart",this.onMouseDown.bind(this),!0),this.listen("touchmove",this.onMouseMove.bind(this),!0),this.listen(["touchend","touchcancel"],this.onMouseUp.bind(this),!0)}return r(s,[{key:"listen",value:function(t,s,r){var e=function(t){"mouseout"===t.type&&null!=t.relatedTarget||s({y:t.clientY},t)};if(r&&(e=function(t){s({y:t.targetTouches[0]?t.targetTouches[0].clientY:null},t)}),Array.isArray(t))for(var o=0;o<t.length;o++)window.addEventListener(t[o],e,!1);else window.addEventListener(t,e,!1)}},{key:"onMouseDown",value:function(t,s){s.target&&"a"===s.target.tagName.toLowerCase()||(this.scroll.inital=this.scroll.current,this.scroll.start=t.y,this.scroll.current=t.y,this.scroll.delta=this.scroll.current-this.scroll.start,this.onGrabStart({delta:this.scroll.delta,direction:Math.abs(this.scroll.delta),current:this.scroll.current,start:this.scroll.start}))}},{key:"onMouseMove",value:function(t){this.scroll.start&&(this.scroll.current=t.y,this.scroll.delta=this.scroll.current-this.scroll.start,this.onGrabMove({delta:this.scroll.delta,direction:Math.abs(this.scroll.delta),current:this.scroll.current,start:this.scroll.start}))}},{key:"onMouseUp",value:function(){this.scroll.start&&(this.onGrabEnd({delta:this.scroll.delta,direction:Math.abs(this.scroll.delta),current:this.scroll.current,start:this.scroll.start}),this.scroll.start=null,this.scroll.current=null,this.scroll.delta=null)}}]),s}();exports.Grab=e;
},{}],"Lcb8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reach=void 0;var e=function(e){var r=e.from,t=e.to,n=e.restDelta,c=void 0===n?.01:n,u=Object.assign({},r),a=Object.keys(r),i={current:null},o=function(e,r){if(0===a.length)return cancelAnimationFrame(i.current),i.current=null,void r(u);a.slice();for(var n,l,s=a.length;s>=0;s--)l=a[s],n=u[l]+.1*(t[l]-u[l]),Math.abs(t[l]-n)<c?(u[l]=t[l],a.splice(s,1),s--):u[l]=n;e(u),i.current=requestAnimationFrame(o)};return{start:function(e){var r=e.update,t=e.complete;return o=o.bind(null,r,t),i.current=requestAnimationFrame(o),{stop:function(){cancelAnimationFrame(i.current),i.current=null}}}}};exports.reach=e;
},{}],"UaVh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Showcase=r;var t=require("./GLManager"),e=s(require("popmotion/src/animations/spring/index.ts")),i=s(require("popmotion/src/compositors/parallel.ts")),n=require("./Grab"),o=require("./reach");function s(t){return t&&t.__esModule?t:{default:t}}function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.GL=new t.GLManager(e,{waveFrequency:i&&i.wave&&i.wave.frequency,waveSpeed:i&&i.wave&&i.wave.speed,waveAmplitude:i&&i.wave&&i.wave.amplitude}),this.GL.createPlane(),this.data=e,this.progress=0,this.direction=1,this.waveIntensity=0,this.options=i,this.index={target:0,current:0,initial:0,scrollSize:window.innerHeight/6,active:0},this.follower={x:0,y:0},this.followerSpring=null,this.slidesSpring=null,this.grab=new n.Grab({onGrabStart:this.onGrabStart.bind(this),onGrabMove:this.onGrabMove.bind(this),onGrabEnd:this.onGrabEnd.bind(this)})}function a(t,e,i){return Math.max(e,Math.min(t,i))}r.prototype.mount=function(t){this.GL.mount(t)},r.prototype.render=function(){this.GL.render()},r.prototype.onMouseMove=function(t){var e=this;this.followerSpring&&(this.followerSpring.stop(),this.followerSpring=null),this.followerSpring=(0,o.reach)({from:{x:this.follower.x,y:this.follower.y},to:{x:t.clientX,y:t.clientY},velocity:{x:this.follower.vx,y:this.follower.vy},stiffness:500,damping:50,mass:1}).start({update:function(t){var i={x:t.x-e.follower.x,y:t.y-e.follower.y};e.GL.updateRgbEffect({position:t,velocity:i}),e.follower={x:t.x,y:t.y,vx:i.x,vy:i.y}},complete:function(){e.GL.updateRgbEffect({position:e.follower,velocity:{x:0,y:0}}),e.follower.vx=0,e.follower.vy=0}})},r.prototype.onGrabMove=function(t){var i=this;this.index.target=a(this.index.initial+t.delta/this.index.scrollSize,.51-this.data.length,.49);var n=a(Math.round(-this.index.target),0,this.data.length-1);this.index.active!==n&&(this.index.active=n,this.options.onActiveIndexChange&&this.options.onActiveIndexChange(this.index.active),this.GL.updateTexture(n),this.textureProgressSpring&&(this.textureProgressSpring.stop(),this.textureProgressSpring=null),this.textureProgressSpring=(0,e.default)({from:0,to:1,stiffness:400,damping:30}).start(function(t){i.GL.updateTexture(null,t)})),this.slidesPop&&this.slidesPop.stop(),this.slidesPop=(0,o.reach)({from:{index:this.index.current},to:{index:this.index.target},restDelta:.001}).start({update:function(t){i.options.onIndexChange&&i.options.onIndexChange(t.index),i.index.current=t.index},complete:function(t){i.options.onIndexChange&&i.options.onIndexChange(t.index),i.index.current=t.index}})},r.prototype.onGrabStart=function(){var t=this;this.options.onZoomOutStart&&this.options.onZoomOutStart({activeIndex:this.index.active}),this.index.initial=this.index.current,this.GLStickPop&&this.GLStickPop.stop(),this.GL.scheduleLoop();var n=(0,e.default)({from:0===this.progress?0:this.direction,to:0,mass:1,stiffness:800,damping:2e3}),o=(0,e.default)({from:this.progress,to:1,mass:5,stiffness:350,damping:500}),s=(0,e.default)({from:this.waveIntensity,to:.5,mass:5,stiffness:10,damping:200});this.GLStickPop=(0,i.default)(o,n,s).start({update:function(e){t.progress,e[0],t.progress=e[0],t.direction=e[1],t.waveIntensity=e[2],t.GL.updateStickEffect({progress:t.progress,direction:t.direction,waveIntensity:t.waveIntensity})},complete:function(){t.options.onZoomOutFinish&&t.options.onZoomOutFinish({activeIndex:t.index.active})}})},r.prototype.snapCurrentToActiveIndex=function(){var t=this;this.slidesPop&&this.slidesPop.stop(),this.slidesPop=(0,o.reach)({from:{index:this.index.current},to:{index:Math.round(this.index.target)},restDelta:.001}).start({complete:function(){},update:function(e){t.options.onIndexChange&&t.options.onIndexChange(e.index),t.index.current=e.index}})},r.prototype.onGrabEnd=function(){var t=this;this.options.onFullscreenStart&&this.options.onFullscreenStart({activeIndex:this.index.active}),this.snapCurrentToActiveIndex(),this.GLStickPop&&this.GLStickPop.stop();var n=(0,e.default)({from:1===this.progress?1:this.direction,to:1,mass:1,stiffness:800,damping:2e3}),o=(0,e.default)({from:this.progress,to:0,mass:4,stiffness:400,damping:70,restDelta:1e-4}),s=(0,e.default)({from:this.waveIntensity,to:0,mass:.1,stiffness:800,damping:50});this.GLStickPop=(0,i.default)(o,n,s).start({update:function(e){t.progress=e[0],t.direction=e[1],t.waveIntensity=e[2],t.GL.updateStickEffect({progress:t.progress,direction:t.direction,waveIntensity:t.waveIntensity})},complete:function(){t.options.onFullscreenFinish&&t.options.onFullscreenFinish({activeIndex:t.index.active}),t.GL.cancelLoop()}})},r.prototype.onResize=function(){this.GL.onResize()};
},{"./GLManager":"XX42","popmotion/src/animations/spring/index.ts":"e6Gg","popmotion/src/compositors/parallel.ts":"O9o7","./Grab":"Zu7q","./reach":"Lcb8"}],"/YDW":[function(require,module,exports) {
"use strict";function e(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function s(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Slides=void 0;var i=function(e,s){var t=document.createElement(e);return t.className=s,t},n=function(){function s(t){var n=this;e(this,s),this.data=t,this.container=i("div","slides"),this.currentIdx=0,this.slides=this.data.map(function(e,s){var t=i("div","slide"),a=i("h1","slide-title"),r=i("p","slide-meta"),l=i("a","slide-more");return l.href=e.link,t.classList.add(0!==s?"next":"show-meta"),r.innerHTML=e.meta,a.innerHTML=e.title,l.innerHTML="RIP read more",t.appendChild(r),t.appendChild(a),t.appendChild(l),n.container.appendChild(t),t})}return t(s,[{key:"mount",value:function(e){e.appendChild(this.container)}},{key:"onActiveIndexChange",value:function(e){this.currentIdx=e;for(var s=0;s<this.slides.length;s++)e===s?(this.slides[s].classList.remove("next"),this.slides[s].classList.remove("prev")):e>s?(this.slides[s].classList.remove("next"),this.slides[s].classList.add("prev")):(this.slides[s].classList.add("next"),this.slides[s].classList.remove("prev"))}},{key:"onMove",value:function(e){this.container.style.transform="translateY(".concat(100*e/this.slides.length,"%)")}},{key:"appear",value:function(){this.container.classList.add("scrolling"),this.slides[this.currentIdx].classList.remove("show-meta")}},{key:"disperse",value:function(e){this.slides[this.currentIdx].classList.add("show-meta"),this.container.classList.remove("scrolling");for(var s=0;s<this.data.length;s++)s>e?(this.slides[s].classList.add("next"),this.slides[s].classList.remove("prev")):s<e?(this.slides[s].classList.remove("next"),this.slides[s].classList.add("prev")):(this.slides[s].classList.remove("next"),this.slides[s].classList.remove("prev"))}}]),s}();exports.Slides=n;
},{}],"Focm":[function(require,module,exports) {
var global = arguments[3];
var define;
var e,n=arguments[3],o=require("./Showcase"),t=require("./Slides"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,i=void 0===n?[]:n,a=e.containerId,c=void 0===a?"app":a,d=e.waveOptions,s=document.getElementById(c),u=new t.Slides(i),r=new o.Showcase(i,{onActiveIndexChange:function(e){u.onActiveIndexChange(e)},onIndexChange:function(e){u.onMove(e)},onZoomOutStart:function(e){e.activeIndex;u.appear()},onZoomOutFinish:function(e){e.activeIndex},onFullscreenStart:function(e){var n=e.activeIndex;u.disperse(n)},onFullscreenFinish:function(e){e.activeIndex},wave:d});r.mount(s),u.mount(s),r.render(),window.addEventListener("resize",function(){r.onResize()}),window.addEventListener("mousemove",function(e){r.onMouseMove(e)})};n.StickyShowcase={StickShowcase:i},module.exports=i,n.StickyShowcase=i,console.log(e);
},{"./Showcase":"UaVh","./Slides":"/YDW"}]},{},["Focm"], "StickyShowcase")
//# sourceMappingURL=/index.js.map
